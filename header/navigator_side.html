<script src="js/htmljs/navigator.js"></script>
<script>
    $(function(){
            $(document).ready(function(){
                getSubscribe(1);
            });
        });
    function getSubscribe(currPage){
                //ajax실행하여 세부 리스트를 가져옴
                $.ajax({
                    url: '/getNavSubscribe',                //주소
                    dataType: 'json',                  //데이터 형식
                    type: 'POST',                      //전송 타입
                    data: {'msg':'','currPage':currPage},      //데이터를 json 형식, 객체형식으로 전송
                    success: function(result) {          //성공했을 때 함수 인자 값으로 결과 값 나옴
                        console.log(result);
                        if ( result['result'] == true ) {
                            $("#subLink").empty();
                            var count = result['list'].rows[0][4];
                            var navSize = result['size'];
                            for(var i=0;i<result['list'].rows.length;i++){
                                $('#subLink').append("<a class='btn btn-light' href='/channel?chnlid="+result['list'].rows[i][3]+"'>"+result['list'].rows[i][3]+"</a>");
                            }
                            if(currPage>1){
                                //이전버튼 생성
                                $('#subLink').append("<button class='btn btn-light' onclick='getSubscribe("+(currPage-1)+")' >&lt;</button>");
                            }
                            if(count>navSize*currPage){
                                //다음버튼 생성
                                $('#subLink').append("<button class='btn btn-light' onclick='getSubscribe("+(currPage+1)+")' >&lt;</button>");
                            }
                        }
                    } //function끝
                }); // ------      ajax 끝-----------------
    }
</script>
<link rel="stylesheet" type="text/css" href="css/sideNav.css">
<style>
    ::-webkit-scrollbar {
        display: none;
    }
</style>
<div class="sideNav">
    <div class="navBtn">
        <button type="button" id="sideNavBtn" style="height:200px;" class="btn btn-outline-secondary" onclick="sideBarClick();">&lt;</button>
    </div>
    <div class="navSide">
        <div class="SubscribeList">
                <span class='dib'>Subscribe</span>
            <nav class="nav flex-column" id='subLink'>
            </nav>
        </div>
    </div>
</div>